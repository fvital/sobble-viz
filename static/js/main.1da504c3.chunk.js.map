{"version":3,"sources":["assets/r3_nice.png","data/cong_map.js","Icons.jsx","App.jsx","index.jsx"],"names":["module","exports","routes","waypoints","require","map","coord","coordinates","timestamp","basicIcons","EV_ICON","marker","url","anchorY","width","height","mask","START_ICON","END_ICON","App","props","onChange","event","setState","target","name","value","handleLogin","e","preventDefault","prevState","loggedIn","handleRoute","showPath","state","startCoord","endCoord","battCharge","battCap","truckHeight","truckWeight","_handleSearch","query","param","isLoading","endpoint","axios","get","then","response","data","suggestions","result","label","split","reverse","join","catch","error","console","log","_handleSelect","selection","icon","hasOwnProperty","locationId","coords","Response","View","Result","Location","DisplayPosition","lat","Latitude","long","Longitude","firstName","lastName","originId","origins","originIdx","destinations","destIdx","className","src","logo","alt","Form","onSubmit","this","style","display","Label","fontWeight","fontSize","Group","Control","type","placeholder","Button","variant","size","block","Tabs","id","Tab","eventKey","title","paddingTop","controlId","InputGroup","Append","Text","htmlFor","Prepend","breakTimeHour","FormControl","aria-label","breakTimeMin","breakTime","restTimeHour","restTimeMin","allowNew","labelKey","onSearch","selected","options","Component","initialViewState","latitude","longitude","zoom","pitch","bearing","buildingLayer","source","filter","minzoom","paint","DeckWithMaps","_onViewStateChange","viewState","_panToLatLong","_showPath","length","poi","stops","idx","arr","slice","parseFloat","restTime","color","shapes","x","_handleContextMenu","_unplantPin","plantPin","makePreferred","info","index","update","$set","time","geojson","features","properties","geometry","document","addEventListener","removeEventListener","hoveredObject","pointerX","pointerY","Popover","placement","left","top","Title","as","Content","waitingTime","basicIconLayer","EditableGeoJsonLayer","mode","onEdit","updatedData","IconLayer","pickable","alphaCutoff","autoHighlight","getIcon","d","sizeScale","getPosition","getSize","getColor","onHover","object","y","onClick","tripsLayer","TripsLayer","getPath","p","getTimestamps","opacity","widthMinPixels","rounded","trailLength","currentTime","onViewStateChange","controller","layers","getCursor","mapboxApiAccessToken","_renderTooltip","setPin","unsetPin","ReactDOM","render","onContextMenu","getElementById"],"mappings":"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","file":"static/js/main.1da504c3.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/r3_nice.2d6d7954.png\";","const newRoutes1 = { routes: [{ waypoints: require('./route_shape.json').map((coord) => ({ coordinates: [coord[1], coord[0]], timestamp: 0 })) }] };\nconst newIcons1 = { basicIcons: require('./rest_loc.json').map((coord) => ({ coordinates: [coord[1], coord[0]] })) };\nconst congData1 = { ...newRoutes1, ...newIcons1 };\nconst newRoutes2 = { routes: [{ waypoints: require('./route_shape_2.json').map((coord) => ({ coordinates: [coord[1], coord[0]], timestamp: 0 })) }] };\nconst newIcons2 = { basicIcons: require('./rest_loc_2.json').map((coord) => ({ coordinates: [coord[1], coord[0]] })) };\nconst congData2 = { ...newRoutes2, ...newIcons2 };\nconst newRoutes3 = { routes: [{ waypoints: require('./route_shape_3.json').map((coord) => ({ coordinates: [coord[1], coord[0]], timestamp: 0 })) }] };\nconst newIcons3 = { basicIcons: require('./rest_loc_3.json').map((coord) => ({ coordinates: [coord[1], coord[0]] })) };\nconst congData3 = { ...newRoutes3, ...newIcons3 };\nexport { congData1, congData2, congData3 };\n","const EV_ICON = {\n  marker: {\n    url: './assets/icon-ev.png', anchorY: 128, width: 128, height: 128, mask: true,\n  },\n};\n\nconst START_ICON = {\n  marker: {\n    url: './assets/icon-start.png', anchorY: 128, width: 128, height: 128, mask: true,\n  },\n};\n\nconst END_ICON = {\n  marker: {\n    url: './assets/icon-end.png', anchorY: 128, width: 128, height: 128, mask: true,\n  },\n};\n\nexport { EV_ICON, START_ICON, END_ICON };\n","import React, { Component } from 'react';\nimport {\n  Button, InputGroup, Form, Row, FormControl, Tabs, Tab, Col\n} from 'react-bootstrap';\nimport {AsyncTypeahead} from 'react-bootstrap-typeahead';\nimport 'react-bootstrap-typeahead/css/Typeahead.css';\nimport axios from 'axios';\nimport update from 'react-addons-update';\nimport logo from './assets/r3_nice.png';\nimport { EV_ICON, START_ICON, END_ICON} from './Icons.jsx';\nimport './App.css';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loggedIn: false,\n      firstName: '',\n      lastName: '',\n      battCharge: '',\n      truckWeight: '',\n      truckHeight: '',\n      battCap: '',\n      originId: '',\n      origins: [],\n      originIdx: null,\n      destinations: [],\n      destIdx: null,\n      isLoading: false,\n      startCoord: [],\n      endCoord: []\n    };\n  }\n\n  onChange = (event) => this.setState({ [event.target.name]: event.target.value });\n\n  handleLogin = (e) => {\n    e.preventDefault();\n    this.setState((prevState) => ({ loggedIn: !prevState.loggedIn}));\n  }\n\n  handleRoute = (e) => {\n    e.preventDefault();\n    this.props.showPath(this.state.startCoord, this.state.endCoord, this.state.battCharge, this.state.battCap, this.state.truckHeight, this.state.truckWeight)\n  }\n\n  _handleSearch = (query, param) => {\n    this.setState({isLoading: true});\n    // Geocode address using HERE API\n    const endpoint = 'https://autocomplete.geocoder.api.here.com/6.2/suggest.json?app_id=yYmThWqWR9AHibbANJef&app_code=NRSvJeiKL5h90LqJQ8Ugww&query='+query;\n    axios.get(endpoint)\n      .then((response) => {\n        this.setState({\n          isLoading: false,\n          [param]: response.data.suggestions.map((result) => ({\n            ...result,\n            label: result.label.split(\", \").reverse().join(\", \")\n          })),\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n        this.setState({\n          isLoading: false,\n          [param]: [],\n        });\n      })\n    }\n\n  _handleSelect = (selection, icon) => {\n    // Get lat-long from HERE API\n    if(selection && selection[0] && selection[0].hasOwnProperty('locationId')) {\n      const endpoint = 'https://geocoder.api.here.com/6.2/geocode.json?app_id=yYmThWqWR9AHibbANJef&app_code=NRSvJeiKL5h90LqJQ8Ugww&locationID='+selection[0].locationId\n      axios.get(endpoint)\n        .then((response) => {\n          const coords = response.data.Response.View[0].Result[0].Location.DisplayPosition;\n          if (coords) {\n            const lat = coords.Latitude;\n            const long = coords.Longitude;\n            // Set pin from parent method\n            if(icon == START_ICON) {\n              this.setState({\n                startCoord: [lat, long]\n              });\n            } else if(icon == END_ICON) {\n              this.setState({\n                endCoord: [lat, long]\n              });\n            }\n          }\n        })\n        .catch((error) => {\n          console.log(error);\n        })\n    }\n    // Get lat-long from HERE API\n    /*if(selection && selection[0] && selection[0].hasOwnProperty('locationId')) {\n      if(selection[0].locationId == 'NT_olLrQASLCmp3yP8uy7BNBD_xUDMwA')\n      NT_kmleNqR-s.JnO0A3JdcIvA_xUDMwA -> 1500 S 330\n      NT_-Kl.lVUhscT7c0CdGSdSoB_xMzM5kD -> 13399 W Utah Cir\n    }*/\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <div className=\"App-header\">\n          <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        </div>\n        <Form onSubmit={this.handleLogin} className=\"App-login\" style={{ display: this.state.loggedIn ? 'none' : 'block' }}>\n          <Form.Label style={{fontWeight: 'bold', fontSize: '1.5em'}}>Driver Information</Form.Label>\n          <Form.Group>\n            <Form.Control type=\"fname\" placeholder=\"First Name\" name=\"firstName\" value={this.state.firstName} onChange={this.onChange} />\n          </Form.Group>\n\n          <Form.Group>\n            <Form.Control type=\"lname\" placeholder=\"Last Name\" name=\"lastName\" value={this.state.lastName} onChange={this.onChange} />\n          </Form.Group>\n          <Button variant=\"primary\" type=\"submit\" size=\"lg\" block>\n    Login\n          </Button>\n        </Form>\n        <div className=\"App-route\" style={{ display: !this.state.loggedIn ? 'none' : 'block' }}>\n        <Form.Label style={{fontWeight: 'bold', fontSize: '1.3em'}}>Hi {this.state.firstName}{this.state.lastName ? ' ' + this.state.lastName : this.state.lastName}! Plan your route.</Form.Label>\n      <Form onSubmit={this.handleRoute}>\n      <Tabs id=\"controlled-tab-example\">\n      <Tab eventKey=\"home\" title=\"Cargo\" style={{paddingTop: 20, width: '100%'}}>\n        <Form.Group controlId=\"formBasicWeight\">\n        <InputGroup className=\"mb-3\">\n          <Form.Control type=\"weight\" placeholder=\"Truck Weight\" name=\"truckWeight\" value={this.state.truckWeight} onChange={this.onChange} />\n          <InputGroup.Append>\n      <InputGroup.Text>kg</InputGroup.Text>\n    </InputGroup.Append>\n        </InputGroup>\n        </Form.Group>\n        <Form.Group controlId=\"formBasicHeight\">\n        <InputGroup className=\"mb-3\">\n          <Form.Control type=\"height\" placeholder=\"Truck Height\" name=\"truckHeight\" value={this.state.truckHeight} onChange={this.onChange} />\n          <InputGroup.Append>\n      <InputGroup.Text>m</InputGroup.Text>\n    </InputGroup.Append>\n    </InputGroup>\n        </Form.Group>\n        <Form.Group controlId=\"formBasicHeight\">\n          <InputGroup className=\"mb-3\">\n          <Form.Control type=\"charge\" placeholder=\"Battery Charge\" name=\"battCharge\" value={this.state.battCharge} onChange={this.onChange} />\n          <InputGroup.Append>\n      <InputGroup.Text>%</InputGroup.Text>\n    </InputGroup.Append>\n    </InputGroup>\n        </Form.Group>\n        <Form.Group controlId=\"formBasicHeight\">\n          <InputGroup className=\"mb-3\">\n          <Form.Control type=\"charge\" placeholder=\"Battery Capacity\" name=\"battCap\" value={this.state.battCap} onChange={this.onChange} />\n          <InputGroup.Append>\n      <InputGroup.Text>kWh</InputGroup.Text>\n    </InputGroup.Append>\n    </InputGroup>\n        </Form.Group>\n      </Tab>\n      <Tab eventKey=\"profile\" title=\"Rest\" style={{paddingTop: 20, width: '100%'}}>\n  <Form.Group>\n  <label htmlFor=\"break-time\">Time since last break (30 mins)</label>\n  <InputGroup className=\"mb-3\" size=\"sm\">\n  <InputGroup.Prepend>\n      <InputGroup.Text name=\"breakTimeHour\" value={this.state.breakTimeHour} onChange={this.onChange}>Hour</InputGroup.Text>\n    </InputGroup.Prepend>\n    <FormControl aria-label=\"hour\" />\n    <InputGroup.Prepend>\n      <InputGroup.Text name=\"breakTimeMin\" value={this.state.breakTimeMin} onChange={this.onChange}>Minute</InputGroup.Text>\n    </InputGroup.Prepend>\n    <FormControl id=\"break-time\" aria-label=\"Time since last break\" name=\"breakTime\" value={this.state.breakTime} onChange={this.onChange} />\n  </InputGroup>\n  </Form.Group>\n  <Form.Group>\n  <label htmlFor=\"rest-time\">Time since last rest (10 hrs)</label>\n  <InputGroup className=\"mb-3\" size=\"sm\">\n  <InputGroup.Prepend>\n      <InputGroup.Text name=\"restTimeHour\" value={this.state.restTimeHour} onChange={this.onChange}>Hour</InputGroup.Text>\n    </InputGroup.Prepend>\n    <FormControl aria-label=\"hour\" />\n    <InputGroup.Prepend>\n      <InputGroup.Text name=\"restTimeMin\" value={this.state.restTimeMin} onChange={this.onChange}>Minute</InputGroup.Text>\n    </InputGroup.Prepend>\n    <FormControl id=\"rest-time\" aria-label=\"Time since last rest\" />\n  </InputGroup>\n  </Form.Group>\n      </Tab>\n    </Tabs>\n\n          <Form.Group controlId=\"formBasicOrigin\">\n            <AsyncTypeahead\n              allowNew={false}\n              isLoading={this.state.isLoading}\n              labelKey=\"label\"\n              id=\"origin\"\n              onSearch={(query) => this._handleSearch(query, 'origins')}\n              onChange={(selected) => {\n                // Handle selections...\n                this._handleSelect(selected, START_ICON);\n              }}\n              options={this.state.origins}\n              placeholder=\"Origin\"\n            />\n          </Form.Group>\n\n          <Form.Group controlId=\"formBasicDestination\">\n            <AsyncTypeahead\n              allowNew={false}\n              isLoading={this.state.isLoading}\n              labelKey=\"label\"\n              id=\"destination\"\n              onSearch={(query) => this._handleSearch(query, 'destinations')}\n              onChange={(selected) => {\n                // Handle selections...\n                this._handleSelect(selected, END_ICON);\n              }}\n              options={this.state.destinations}\n              placeholder=\"Destination\"\n            />\n          </Form.Group>\n\n          <Button variant=\"primary\" type=\"submit\" size=\"lg\" block>\n    Route\n          </Button>\n          </Form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport DeckGL from '@deck.gl/react';\nimport update from 'react-addons-update';\nimport { ScenegraphLayer } from '@deck.gl/mesh-layers';\nimport { TripsLayer } from '@deck.gl/geo-layers';\nimport { IconLayer } from '@deck.gl/layers';\nimport {\n  Popover\n} from 'react-bootstrap';\nimport axios from 'axios';\nimport { EditableGeoJsonLayer } from '@nebula.gl/layers';\nimport { GLTFScenegraphLoader } from '@luma.gl/addons';\nimport { registerLoaders } from '@loaders.gl/core';\nimport ReactMapGL, { Layer, StaticMap, HTMLOverlay } from 'react-map-gl';\nimport { congData1, congData2, congData3 } from './data/cong_map.js';\nimport App from './App.jsx';\nimport {EV_ICON, START_ICON, END_ICON} from './Icons.jsx';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\n// ScenegraphLayer will automatically pick the right\n// loader for the file type from the registered loaders.\n//registerLoaders([GLTFScenegraphLoader]);\n\n// Change this to your model\n//const GLTF_URL = 'https://raw.githubusercontent.com/yourslab/sobble-assets/master/car/scene.gltf';\n\n// Change this to your access token\nconst MAPBOX_ACCESS_TOKEN = 'pk.eyJ1IjoiZ2Vvcmdpb3MtdWJlciIsImEiOiJjanZidTZzczAwajMxNGVwOGZrd2E5NG90In0.gdsRu_UeU_uPi9IulBruXA';\n\nconst initialViewState = {\n  latitude: 34.07306,\n  longitude: -118.2192,\n  zoom: 14,\n  pitch: 60,\n  bearing: 270\n};\n\nconst buildingLayer = {\n  id: '3d-buildings',\n  source: 'composite',\n  'source-layer': 'building',\n  filter: ['==', 'extrude', 'true'],\n  type: 'fill-extrusion',\n  minzoom: 1,\n  paint: {\n    'fill-extrusion-color': '#aaa',\n\n    // use an 'interpolate' expression to add a smooth transition effect to the\n    // buildings as the user zooms in\n    'fill-extrusion-height': [\n      'interpolate', ['linear'], ['zoom'],\n      5, 0,\n      5.05, ['get', 'height'],\n    ],\n    'fill-extrusion-base': [\n      'interpolate', ['linear'], ['zoom'],\n      5, 0,\n      5.05, ['get', 'min_height'],\n    ],\n    'fill-extrusion-opacity': 0.6,\n  },\n};\n\nclass DeckWithMaps extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      viewState: initialViewState,\n      time: 0,\n      poi: [],\n      originIdx: null,\n      destIdx: null,\n      routes: [],\n      geojson: {\n        type: 'FeatureCollection',\n        features: [\n          {\n            type: 'Feature',\n            properties: {},\n            geometry: {\n              type: 'Point',\n              coordinates: [-122.469492, 37.80182],\n            },\n          },\n        ],\n      },\n    };\n  }\n\n  _onViewStateChange = ({viewState}) => {\n    this.setState({viewState});\n  };\n\n  _panToLatLong = (lat, long) => {\n    this.setState({\n      viewState: {\n        ...this.state.viewState,\n        longitude: long,\n        latitude: lat,\n        bearing: 0\n      }\n    });\n  }\n\n  _showPath = (startCoord, endCoord, battCharge, battCap, truckHeight, truckWeight) => {\n    if(startCoord.length && endCoord.length) {\n      //let endpoint = `https://qq2tb7ic1g.execute-api.us-west-1.amazonaws.com/Hackathon/trace-route?waypoint0=${startCoord[0]},${startCoord[1]}&waypoint1=${endCoord[0]},${endCoord[1]}&weight=${truckWeight}&height=${truckHeight}&battery_capacity=${battCap}&soc=${battCharge}`\n      let endpoint = `https://qq2tb7ic1g.execute-api.us-west-1.amazonaws.com/Hackathon/trace-route?waypoint0=${startCoord[0]},${startCoord[1]}&waypoint1=${endCoord[0]},${endCoord[1]}&weight=0&height=0&battery_capacity=800000&soc=648000`\n      console.log(endpoint);\n      axios.get(endpoint)\n      .then((response) => {\n        this.setState({\n          poi: response.data.stops.map((poi, idx, arr) => {\n            let icon = null;\n            let color = null;\n            if (idx == 0) {\n              icon = START_ICON;\n              color = [234, 67, 53];\n            } else if (idx == arr.length-1) {\n              icon = END_ICON;\n              color = [234, 67, 53];\n            } else {\n              icon = EV_ICON;\n              color = [0, 0, 0];\n            }\n            return {coordinates: poi.slice(0, 2).reverse().map((coord) => parseFloat(coord)), restTime: poi[2], type: icon, color: [0, 0, 0]};\n          }),\n          routes: [{waypoints: response.data.shapes.map((coord) => ({timestamp: 0, coordinates: coord[0].split(',').reverse().map((x) => parseFloat(x))}))}]\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n    }\n  }\n\n  _handleContextMenu = (event) => {\n    event.preventDefault();\n  };\n\n  componentDidMount() {\n    //this.plantPin(this.state.routes[0].waypoints[0].coordinates[1], this.state.routes[0].waypoints[0].coordinates[0], START_ICON);\n    //this.plantPin(this.state.routes[0].waypoints[this.state.routes[0].waypoints.length - 1].coordinates[1], this.state.routes[0].waypoints[this.state.routes[0].waypoints.length - 1].coordinates[0], END_ICON);\n    document.addEventListener('contextmenu', this._handleContextMenu);\n    /*this.interval = setInterval(() => {\n      this.setState((prevState) => ({ time: prevState.time + 1 }));\n    }, 100);*/\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('contextmenu', this._handleContextMenu);\n    //clearInterval(this.interval);\n  }\n\n  waitingTime(lat) {\n    if(lat >= 39.52734) {\n      return 'Rest for 30 minutes';\n    } else if(lat <= 41.54872) {\n      return 'Rest for 10 hours';\n    } else {\n      return 'Rest for 10 hours';\n    }\n  }\n\n  _renderTooltip() {\n    const { hoveredObject, pointerX, pointerY } = this.state || {};\n    return hoveredObject && (\n      <Popover id=\"poi-popover\" placement=\"right\" style={{left: pointerX,top: pointerY}}>\n        <Popover.Title as=\"h3\">Charging Station</Popover.Title>\n        <Popover.Content>\n          Lat: <i>{hoveredObject.coordinates[1]}</i>, Long: <i>{hoveredObject.coordinates[0]}</i><br />\n          {this.waitingTime(hoveredObject.coordinates[1])}\n        </Popover.Content>\n      </Popover>\n    );\n  }\n\n  _unplantPin = (icon) => {\n    /*if(icon == START_ICON && this.state.originIdx) {\n      this.setState((prevState) => ({\n        poi: prevState.poi.filter((value, index, arr) => index != prevState.originIdx),\n        originIdx: null\n      }));\n    } else if(icon == END_ICON && this.state.destIdx) {\n      this.setState((prevState) => ({\n        poi: prevState.poi.filter((value, index, arr) => index != prevState.destIdx),\n        destIdx: null\n      }));\n    }*/\n  }\n\n  plantPin = (lat, long, icon) => {\n    let color = [0, 0, 0];\n    if(icon == START_ICON || icon == END_ICON) color = [234, 67, 53];\n    this.setState((prevState) => ({\n      poi: [...prevState.poi, {coordinates: [long, lat], type: icon, color: color }]\n    }));\n    if(icon == START_ICON) {\n      this._panToLatLong(lat, long);\n    }\n  }\n\n  makePreferred = (info) => {\n    const idx = info.index;\n    this.setState({\n      poi: update(this.state.poi, { [idx]: { color: { $set: [255, 0, 0] } } }),\n    });\n  }\n\n  render() {\n    const {\n      geojson, poi, routes, time, viewState\n    } = this.state;\n    // This layer provides the editable functionality\n    const editableLayer = new EditableGeoJsonLayer({\n      id: 'geojson',\n      data: geojson,\n      mode: 'drawPoint',\n      onEdit: ({ updatedData }) => {\n        this.setState({ geojson: updatedData });\n      },\n    });\n\n    const basicIconLayer = new IconLayer({\n      id: 'icon-layer',\n      data: poi,\n      pickable: true,\n      // iconAtlas and iconMapping are required\n      // getIcon: return a string,\n      alphaCutoff: 0,\n      autoHighlight: true,\n      getIcon: (d) => d.type.marker,\n      sizeScale: 15,\n      getPosition: (d) => d.coordinates,\n      getSize: (d) => 5,\n      getColor: (d) => d.color,\n      onHover: (info) => this.setState({\n        hoveredObject: info.object,\n        pointerX: info.x,\n        pointerY: info.y,\n      }),\n      onClick: (info) => this.makePreferred(info),\n    });\n\n    const tripsLayer = new TripsLayer({\n      id: 'trips-layer',\n      data: routes,\n      getPath: (d) => d.waypoints.map((p) => p.coordinates),\n      // deduct start timestamp from each data point to avoid overflow\n      getTimestamps: (d) => d.waypoints.map((p) => p.timestamp - 1554772579000),\n      getColor: [22, 32, 230],\n      opacity: 0.8,\n      widthMinPixels: 5,\n      rounded: true,\n      trailLength: 200,\n      currentTime: 10,\n    });\n\n\n    // This layer renders the glTF objects\n    /*const scenegraphLayer = new ScenegraphLayer({\n      id: 'scene',\n      scenegraph: GLTF_URL,\n      data: geojson.features,\n      getPosition: (f) => f.geometry.coordinates,\n      sizeScale: 0.1,\n      getOrientation: [0, 0, 0],\n      getTranslation: [0, 0, 0],\n      getScale: [1, 1, 1],\n    });*/\n\n    return (\n      <div>\n      <DeckGL\n        viewState={viewState}\n        onViewStateChange={this._onViewStateChange}\n        controller\n        layers={[tripsLayer, basicIconLayer]}\n        getCursor={() => 'cell'}\n      >\n          <App/>\n        <ReactMapGL mapboxApiAccessToken={MAPBOX_ACCESS_TOKEN}>\n          <Layer {...buildingLayer} />\n          { this._renderTooltip() }\n        </ReactMapGL>\n      </DeckGL>\n      <App setPin={this.plantPin} unsetPin={this._unplantPin} showPath={this._showPath} />\n      </div>\n    );\n  }\n}\n\nexport default DeckWithMaps;\nReactDOM.render(<DeckWithMaps onContextMenu={(e)=> e.preventDefault()}/>, document.getElementById('root'));\n"],"sourceRoot":""}